<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
	  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  
  <!--
      Written by Andrew Uzilov, November 2005 - current
      Laboratory of Dr. Ian Holmes
      Department of Bioengineering
      University of California - Berkeley
      Berkeley, CA, USA
    -->
  
  <head>
    <title>AJAX Generic Genome Browser (GBrowse) prototype demo</title>
    
    <link rel="stylesheet" type="text/css" href="browser_stylesheet.css" />
    
    <!-- load the genome browser libraries/modules (order of library inclusion is IMPORTANT!) -->
    
    <!-- Libraries not written by us -->
    <script type="text/javascript" src="prototype-1.4.0.js" />
    
    <!-- 'Other.js' MUST go first, as it may define stuff for other libraries (debugging, helpers, etc.) -->
    <script type="text/javascript" src="Other.js" />
    
    <script type="text/javascript" src="View.js" />
    <script type="text/javascript" src="TracksAndZooms.js" />
    <script type="text/javascript" src="ComponentInterface.js" />
    <script type="text/javascript" src="ViewerComponent.js" />
    <script type="text/javascript" src="NavigationComponent.js" />
    <script type="text/javascript" src="TrackControlComponent.js" />
    <script type="text/javascript" src="DebugComponent.js" />
    <script type="text/javascript" src="MenuComponent.js" />
    
    <!-- 'Load.js' MUST go last, as it instantiates everything, then sets up and finalizes
	 browser loading/initialization -->
    <script type="text/javascript" src="Load.js" />
    
  </head>
  
  <body onload="loadBrowser()" id="browserBody">
    
    <!-- TODO: CHECK FOR JAVASCRIPT >= v1.3 and DOM Level >= 2 - OTHERWISE REDIRECT TO ERROR PAGE !!! -->
    
    <h3 style="float: right"><a href="../../upload/start">Upload your own track</a></h3>

    <p class="header1">AJAX Generic Genome Browser (GBrowse) prototype demo</p>
    
    <div>
      <text class="header2" id="landmarkname" />
      <p />
    </div>

    <div id="NavigationComponentPlaceholder">
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr>
	  <td width="40%">
	    <b>Reference Sequence:</b><br /><select id="landmarks"></select><br />
	    <b>Region or Nucleotide (<a onclick="var w=window.open('search_help.html');w.resizeTo(750,750);return false;" href="">syntax help</a>):</b>
	    <br />
	  <input id="searchInputBox" type="text" size="25"></input>
	  <button id="searchButton">Search</button>
	  </td>
	  <td>
	    <b>Scroll and Zoom:</b><br />
	    <button id="goToStartButton">Start</button>
	    <button id="scrollFarLeftButton">&lt;&lt;</button>
	    <button id="scrollNearLeftButton">&lt;</button>
	    <button id="zoomOutButton">-</button>
	    <select id="zoomLevelsMenu"></select>
	    <button id="zoomInButton">+</button>
	    <button id="scrollNearRightButton">&gt;</button>
	    <button id="scrollFarRightButton">&gt;&gt;</button>
	    <button id="goToEndButton">End</button>
	  </td>
	</tr>
      </table>
    </div>
    
    <!-- for some reason, <div /> doesn't work... but it ought to, right? -->
    <div id="ViewerComponent"></div>
    
    <div id="TrackControlComponentPlaceholder">
      <button id="goToClassic">View this in the original GBrowse</button>
      <p>
       <b>Toggle Tracks On/Off:</b><br />
       <span id="trackControls" />
      </p>

      <p><b>Move track
         <select id="moveTrackMenu"></select>
         to position
         <select id="newLocationMenu"></select>
       </b>
       <button id="moveTrackButton">Move</button>
      </p>
   
      <p><b>Track Label Controls:</b>
	<br />
	<button id="trackLabelToggle">Toggle track labels on/off</button>
	<button id="raiseTransp">Make labels MORE transparent</button>
	<button id="lowerTransp">Make labels LESS transparent</button>
      </p>

      <p><b>Dimension Controls:</b>
	<br />
	<button id="maxHeightButton">Set view height to exactly fit all tracks</button>
	<button id="setHeightButton">Set view height to:</button>
	<textarea id="viewHeight" cols="5" rows="1"></textarea>
	pixels
      </p>
    </div>
    
    <div>
      <b>Message Console</b><br />
      <textarea id="debugMessage" cols="120" rows="10" readonly="readonly" wrap="virtual"></textarea>
    </div>      
    
    <!-- FOR DEBUGGING ONLY - *REMOVE* before public release !!! -->
    <!--
    <div id="DebugComponentPlaceholder">
      <b>Debugging Tools/Options</b><br />
      
      Nudge left/right by one pixel:
      <button onclick="nudgeLeft(); return false;">Left</button>
      <button onclick="nudgeRight(); return false;">Right</button>
      
      Stupid testing box:
      <textarea id="stupidTestBox" cols="30" rows="1"></textarea>
      <button onclick="stupidTestBoxHandler(); return false;">Gwan Test?</button>
    </div>
    -->
    <!-- END DEBUGGING ONLY SECTION -->
    
    <div id="information">  <!-- TODO: this should really be a separate page... -->

      <hr />
      <p class="header1">INFORMATION</p>
      
      <p>
	Please
	<a href="http://www.biowiki.org/PrototypeGBrowse">visit our BioWiki page</a>
	for information, comments, and discussion.
	Feedback is appreciated!
      </p>
      
      <p>
	<b>IMPORTANT COMPATIBILITY NOTES:</b>
	<ul>
	  <li>
	    This page has been built for
            <a href="http://www.mozilla.com/firefox">Mozilla Firefox</a> version 1.5 or later
	    <b>ONLY!</b>
	    It will <b>not</b> work on other browsers
	    (but we plan to port to other browsers eventually).
	  </li>
	  <li>
	    You must have JavaScript enabled to view this demo.
	  </li>
	  <li>
	    Pop-up blocking may interfere with pop-ups generated by some features.
	  </li>
	</ul>
      </p>
      
      <p>
	Please note that <b>this is only a prototype/demo</b> and lacks the majority of
	features of the
	<a href="http://www.gmod.org/?q=node/71">current GBrowse</a>.
	Also please note that there are some bugs in it, which we are working on, and that
	some things don't look very tidy.  This is a <b>work in progress</b>.
	Click the "View this in the original GBrowse" button at the bottom to open the
	original GBrowse for comparison.
	We plan to migrate <b>all original GBrowse features</b> to the new client, and
	add some as well.  Read
	<a href="http://www.biowiki.org/PrototypeGBrowse">our BioWiki page</a>
	for details.
      </p>
      
      <p>
	<b>FUN THINGS TO TRY:</b>
	<ul>
	  <li>
	    Drag the view around like in <a href="http://maps.google.com">Google Maps</a>.
	    You can drag by the ruler (horizontal axis only),
	    by the gray striped bar on the left (vertical axis only),
	    or by the main view (both axes).
	  </li>
	  <li>
	    Turn the tracks on and off to customize your view.
	  </li>
	  <li>
	    Customize your view height, or blow it up to max.
	  </li>
	  <li>
	    Turn the track labels on and off; notice what happens when you move the mouse on
	    a track when the labels are off.
	  </li>
	  <li>
	    Change track label transparency.
	  </li>
	  <li>
	    Double-click on the ruler or the main view to center it horizontally.
	  </li>
	  <li>
	    Zoom in and out and scroll through the genome using the "Scroll and Zoom" buttons.
	  </li>
	  <li>
	    Use the "Region or Nucleotide" search box to jump to a specific nucleotide or
	    nucleotide range (see the "syntax help" link).
	  </li>
          <li>
	    Resize your browser window, and the width of the main view will automatically
	    adjust to fill your window.
	  </li>
          <li>
	    Click the "View this in the original GBrowse" button to open up your current
	    view in the original, CGI-based GBrowse client.  This is so you can see what
	    features we are planning to port from the original
	  </li>
	  <li>
	    Post your comments and suggestions on
	    <a href="http://www.biowiki.org/PrototypeGBrowse">our BioWiki page</a>
	  </li>
	  <li>
	    <a href="http://genome.biowiki.org/gbrowse/index.html">Try other genomes</a>
	    (as they become available).
	  </li>
	  <li>
	    Check back in every once in a while for updates!  This is a work in progress.
	  </li>
	</ul>
      </p>

    </div>
    
  </body>
  
</html>
